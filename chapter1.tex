\chapter{Introduction}
Hook paragraph. Main points:
Earth is important (home to all of humanity/all life);
Earth is vast;
Earth is diverse.

%Yet despite the cosmic insignificance of the Earth, all of humanity---and in fact all life we are aware of---call this planet home. From the [] of the [] to the [] of the [], the Earth is both vast and diverse. Given that Earth is the [], humanity has collected large amounts of data the planet.  Likewise, the data available about the Earth is similarly vast and diverse. 

%Given its significance to all of humanity, it is vital to understand and protect the Earth.

One of the ways humanity works toward better understanding the Earth is by gathering data about it.
Remote sensing satellites and aircraft, along with various smart technologies, have created a significant increase in the amount of geospatial data available and continually being collected.
This has lead to the challenge of \textit{geospatial big data}, referring to the fact that the volume and complexity of data exceed the capacity of current computing systems~\cite{lee2015geospatial}.
With applications in urban planning, agriculture, education, natural disaster prediction and management, and countless other fields, the development of technologies for managing geospatial is more important than ever.
These tools are needed to efficiently integrate, process, analyze, and visualize geospatial data in order to use it to make informed decisions.
This has lead to the vision of Digital Earth, where all data regarding the Earth is available in a common reference used by the public to inform their decisions.
The use of such a system would range from world governments informing policy by analyzing climate trends to homeowners referencing local utility line locations when building a fence.
In reality, we have not yet achieved such an expansive and holistic system; however, many approaches for smaller-scale Digital Earths exist.


Geographic information systems (GIS) are one of the conventional approaches used for creating a Digital Earth.
With a GIS, different datasets are represented as individual map layers in a planar coordinate system, which acts as a proxy for the Earth.
However, geospatial data exists in many different formats and resolutions and is created and gathered by disparate organizations.
The conventional GIS pipeline---which requires experts to clean, process, integrate, and distribute data---is not sustainable in the face of geospatial big data.
Furthermore, even after data has been integrated with a GIS, overlay operations such as intersections and data extraction are computationally expensive when many data layers are present~\cite{wang2015improving}.
Coordinate based representations of geospatial data also do not provide good facilities to represent the uncertainty or error of the data they are used to represent.


An alternative to the coordinate-based approach of GIS's for managing geospatial data is an area or cell-based one.
A partitioning of the Earth into a set of non-overlapping cells allows information to be associated with the cells(s) that correspond with the appropriate region(s) of the Earth.
Such partitionings are termed discrete global grids (DGG).
To accommodate different resolutions of data, a hierarchy of these DGG's at successively finer resolutions, referred to as a discrete global grid system (DGGS), can be used.
Not only does this cell hierarchy allow multiple resolutions of data to be supported, but it also provides a inbuilt mechanism for representing data uncertainty.
As opposed to storing locations as mathematically precise points, a cell (or set of cells) can be used that represent the range of possible locations.


Another challenge with most traditional Digital Earth systems is the use of a flat map as the underlying representation.
Flattening the Earth produces inevitable map edges and distortion that impact the analysis and visualization of geospatial data.
Map edges can cause serious misunderstanding of the continuity between different sides of the map---especially with young children~\cite{hennerdal2015beyond}---and also affect the estimation of distance even when the continuity is correctly understood~\cite{hruby20182000}.
Distortion causes inaccuracies in calculations such as geodesics and buffering if planar geometry is used~\cite{flaterbuffering}, which is especially problematic when working with large distances and areas.
These distortions can also affect the visual analysis of data by misrepresenting the size and shape of different regions.


Model globes avoid many of the shortcomings of planar maps by providing a more accurate reference model for the Earth.
Despite this, the ability for physical maps to be easily made and stored, display the entire Earth at once, and accommodate any scale has made them the preferred option in many situations.
With the advent of a Digital Earth, however, many the drawbacks of physical globes are lessened or negated.
Computer graphics algorithms and hardware allow globes to be rendered in real-time, storage is no different than for a digital map, and interactive systems allow zooming and panning to show any part of the Earth at any scale.
The only challenge not fully solved is displaying the entire Earth at once; however, even this can be partially addressed with multi-view focus plus context rendering techniques~\cite{mark-sherlock}.
Because of this, there has been a recent push towards globe based Digital Earth systems, one of the most well-known examples of which being Google Earth\footnote{url here}.
In these systems, data is assigned and visualized on a 3D model of the Earth---approximated as a sphere or ellipsoid---as opposed to a traditional planar map.

\textbf{kinda broken flow here}

Many of today's geospatial sensors, along with other technologies such a numerical weather prediction, generate data with an associated altitude in addition to other dimensions.
While DGGS's are an effective tool for integrating and managing geospatial data on the surface of the Earth, they have no inbuilt mechanism for supporting such 3D data.
Instead, this data must be flattened with altitude stored only as an attribute.
%This negates any benefits of the grid system in the radial dimension and prevents 
This has motivated the development of volumetric, or 3D, discrete global grids and grid systems to allow native support for 3D data.
Going forward, we use the term 3D DGGS to refer to these technologies collectively.


Most of human activity and interest, and correspondingly geospatial data, is located in a relatively small region above and below the surface of the Earth ($\pm$10 -- 500 km).
Likewise, most existing approaches for 3D DGGS's have focused on this region.
However, there are select processes such as seismic wave propagation and the magnetosphere that span much beyond this region. \textbf{figure?}
Furthermore, the range of altitudes of different satellites is extensive, with satellites in high Earth orbit exceeding 36,000 km.
Therefore, in order to support the full range of human activity and interest, there is a need for 3D DGGS's that extend all the way to the centre of the Earth and much beyond the atmosphere.


\section{Problem Statement}
Despite the recent push for 3D DGGS's, the area of research is still underdeveloped compared to that of traditional DGGS and GIS technologies.
Of the research that has been done, most has been focused on support for small ranges of altitudes.
The main goal of this thesis is to further develop technologies for 3D DGGS's that can properly and adequately support large ranges of altitude. 

A simple approach for such a 3D DGGS would be to embed the Earth in a 3D Euclidean voxel partitioning, for which many efficient and well-tested algorithms exist.
While such a system is simple in its construction, it does not respect the spherical nature of the Earth.
Cells are not aligned with the surface of the Earth, which means there is no consistent orientation of up (increasing altitude) and down (decreasing altitude) with respect to a cell.
Likewise, traversal along the surface of the Earth is not straightforward and requires ``zig-zagging'' up and down.
This type of grid also does not provide a good approximation for the surface of the Earth, especially at low resolutions.
For small scale regions where the curvature of the Earth is negligible, these issues are likewise negligible, and these types of systems have been used successfully for \textbf{things} [CN].
However, for 3D DGGS's with global coverage, the underlying grid should be sphere-based and Earth-centric; cells should be aligned with the surface of the Earth and have a consistent orientation for increasing and decreasing altitude. 

The main challenge associated with such Earth-centric grids is the inevitable degeneration of cells toward the centre of the Earth.
This effect is demonstrated in Figure~X---cells more near the centre of the grid become increasingly small and skinny and eventually degenerate to pyramids.
For grids with a small radial extent, this is not a significant issue; however, for the range of altitudes we wish to support in this thesis, this issue cannot be ignored.
The problem with this type of cell degeneration is two-fold.
The first issue is that cells in the grid do not have a consistent aspect ratio (width divided by depth), meaning cells will bias surface and radial directions differently depending on their location.
The second---and larger---issue, is that the difference in volume between cells is unbounded.
Having cells of similar size is important to ensure the grid represents the Earth at a consistent spatial resolution.
This is especially pertinent when dealing with a hierarchy of grids to ensure cells of the same size do not appear at different resolutions of the grid system itself.
It is worth noting that this same issue presents itself in traditional latitude-longitude grids, also demonstrated in Figure~X. 

Several works have used a special refinement strategy 


%Simple approach for such a grid would be to embed Earth in 3D Euclidean grid, which many efficient and well tested techniques exist for creating. Such a grid does not respect spherical nature of Earth however. Cells not aligned with surface, low resolutions are very poor approximation, traversal along surface not straightforward. This type of grid should only be used for local small scale grids where curvature is minimal/negligible. For global grid, needs to be sphere based---Earth centric. 

The main challenge with such grids is the degeneration of cells towards the centre of the Earth due to the nature of spherical coordinates (figure)---cells become small, skinny, degenerate to triangular shaped/pyramids. This is not an issue for grids with small radial extent. This same effect happens with latitude longitude grids for similar reasons. Several works have used a special refinement strategy to address this issue, both for lat-long grids and 3D grids. (Further explained in Ch 2). Create grids we refer to as 'semiregular degenerate'. Such refinement strategies are the main tool used in this thesis for accomplishing the goal. For brevity, this class of refinement is simply referred to as semiregular refinement.  

Other desired properties of resulting grids we are concerned with are volume preservation, interoperability between 2D and 3D grids, and efficient encoding and decoding (integration) of data. 

\section{Methodology}

First approach is by modifying existing 3D DGGS known as SDOG to improve volume preservation.

This grid is good, but no interoperability between it and conventional DGGS.

Second approach is a general framework for extending DGGS to 3D. Good properties of such here.

With prismatoid grid, need to map between it and spherical 'real' space. Similar to projection for DGGS---needed for encoding and decoding. Use same principles to create mapping between conventional SDOG and modified one.

Develop more efficient encoding and decoding for these types of grids. Works for SDOG---and with the mapping---modified SDOG. Works for simple prismatoid, but not all. Discuss some methods for more complex prismatoid. Benchmark efficient vs simple for SDOG and modified SDOG.  

\section{Contribution}

Modification of SDOG grid to achieve better volume preservation
	- up to perfect volume preservation between all non-degenerate cells

Framework for extending any DGGS to 3D
	- all refinement factors
	- very good volume preservation properties. perfect for certain grids (excluding degenerate cells)

Mapping methods for: SDOG to modified SDOG; 3D prismatoid grid to spherical 3D grid

Efficient encoding/decoding algorithms for SDOG and other semiregular degenerate grids (constant time)
 	- benchmarking efficient vs hierarchical version for conventional SDOG and modified version

\section{Thesis Overview}

Chapter 2: background and related work
Chapter 3: modified refinement rules for SDOG
Chapter 4: grid extension framework
Chapter 5: mapping formulation for SDOG and prismatoid grids
Chapter 6: encoding and decoding algorithms and benchmarking
Chapter 7: conclusions and future work

